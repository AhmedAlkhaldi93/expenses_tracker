(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{63:(e,t,s)=>{"use strict";var r=s(7260);s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})},1546:()=>{},3256:(e,t,s)=>{Promise.resolve().then(s.bind(s,6303))},6303:(e,t,s)=>{"use strict";s.d(t,{LoginForm:()=>u});var r=s(5155),n=s(2619),a=s.n(n),o=s(2115),l=s(63);s(1546);let i=s(5704).env.NEXT_PUBLIC_API_URL||"https://expenses-tracker-2m0j.onrender.com",u=()=>{let[e,t]=(0,o.useState)(""),[s,n]=(0,o.useState)(""),u=(0,l.useRouter)(),c=async()=>{try{let t=await fetch("".concat(i,"/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:s}),credentials:"include"}),r=await t.json();t.ok?(alert("User logged in successfully!"),localStorage.setItem("id",r.id),u.push("/dashboard")):alert(r.message||"Login failed")}catch(e){console.error(e),alert("Something went wrong")}};return(0,r.jsx)("div",{className:"login-page",children:(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),c()},children:[(0,r.jsx)("h1",{children:"LOGIN"}),(0,r.jsx)("label",{children:"Email:"}),(0,r.jsx)("input",{value:e,onChange:e=>t(e.target.value)}),(0,r.jsx)("label",{children:"Password:"}),(0,r.jsx)("input",{type:"password",value:s,onChange:e=>n(e.target.value)}),(0,r.jsx)("button",{type:"submit",children:"Submit"}),(0,r.jsx)(a(),{href:"/register",children:"Open account"})]})})}}},e=>{e.O(0,[541,619,441,255,358],()=>e(e.s=3256)),_N_E=e.O()}]);